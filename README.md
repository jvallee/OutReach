## Overview

An application for modifying an email template that can edited, saved, and published.


### Technologies

This application uses the following technology 
- Languages: Javascript/TypeScript
- Frontend: [React](https://reactjs.org/docs/getting-started.html)

Other technologies used in the project

- Languages: Python (3.7.5+)
- API: [Django](https://www.djangoproject.com/) and the [Django Rest Framework](https://www.django-rest-framework.org/)
- API Documentation: [Swagger](https://swagger.io/), [drf-yasg](https://github.com/axnsan12/drf-yasg), and [AutoRest generator](https://github.com/Azure/autorest)
- Persistence: [Postgres](https://www.postgresql.org/) and the [Django ORM](https://docs.djangoproject.com/en/3.0/topics/db/)

## Components

### Frontend

The frontend is located under the `spa` directory and was generated with the
create-react-app tool.

#### Notes

The autogenerated TypeScript client is found at `spa/src/swaggerapi`.

The `ordering` params detailed in the api docs (link below), accepts any of the following:

```
created
modified
state
```

A preceeding `-` will sort decending. Values can be comma separated (if you'd like to sort by multiple values).

### Backend API

The api is located under the `api` directory and was generated with [cookie
cuttter django](https://github.com/pydanny/cookiecutter-django).

That code is found in the `api/api/outreach` directory.

## Getting Started

### Running the application

You'll need to install [Docker](https://www.docker.com/get-started).

To run the api and the frontend locally in Docker, do the following:

0) Build the backend (may take a while the first time):

```
$ docker-compose -f local.yml build
```

Note if you add dependencies you will need to rebuild the app.

1) Launch the backend:

```
$ docker-compose -f local.yml up
```

2) Build and start the frontend

```
$ cd spa
$ npm i
$ npm start
```

3) Open the app

Go to [http://localhost:3000/](http://localhost:3000/)

### View API docs

Go to [http://localhost:8000/redoc/](http://localhost:8000/redoc/)

### View the app

Go to [http://localhost:3000/](http://localhost:3000/)


### Misc backend tools (not needed for challenge)

To support your development certain tools are avaiable via the Django
management commands.  NOTE: These should not be necessary for this challenge.

Run manage commands: e.g.

```
# Open a ipython shell connected to the database
$ docker-compose -f local.yml run --rm django python manage.py shell_plus --ipython
# or make migration
$ docker-compose -f local.yml run --rm django python manage.py makemigrations outreach --name <your name>
# or apply migration
$ docker-compose -f local.yml run --rm django python manage.py migrate
```

See [here](https://cookiecutter-django.readthedocs.io/en/latest/developing-locally-docker.html) for more info.

Generating the frontend client

You only need to do this if you modify the API.

```
$ docker-compose -f local.yml run --rm django ./generate_api_client.py
```
